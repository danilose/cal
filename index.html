<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <!-- Meta tags Obrigatórias -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="css/bootstrap.min.css">

    <title>Calculadora</title>
  </head>
  <body>

    <div class="container-fluid">

      <div class="container calc col-lg-6 col-sm-12 col-md-6 shadow p-3 mb-5 bg-white rounded">

        <div class="logo pb-2">
          <img src="img/logo.svg" class="mx-auto d-block" alt="Logo Calculadora Trade-In"/>
        </div>

        <form>
          <input id="visor" class="form-control form-control-lg" type="text" placeholder="0." disabled>
          <img id="real" src="img/grana.svg" alt="R$"/>

          <div class="row mt-5 mx-0">

            <div class="col p-1 mx-0">
              <select id="aparelho" class="select_azul select form-control">
                <option>Notebook</option>
                <option>Desktop</option>
              </select>
            </div>

            <div class="col p-1 mx-0">
              <input id="qtde" type="number" class="form-control estiloinput" placeholder="Quantidade" min="0">
            </div>

            <div class="col p-1 mx-0">
              <select id="fabricante" class="select form-control">
                <option value="100">Fabricante</option>
                <option value="150">Dell</option>
                <option value="100">HP</option>
                <option value="150">Compac</option>
                <option value="100">Acer</option>
                <option value="150">Sony</option>
                <option value="100">Lenovo</option>
                <option value="150">Samsung</option>
                <option value="100">Asus</option>
              </select>
            </div>

            <div class="col p-1 mx-0">
              <select id="processador" class="select form-control">
                <option value="0">Processador</option>
                <option value="50">Intel core 2</option>
                <option value="100">Intel core 2 Quad</option>
                <option value="150">i3 1ª Geração</option>
              </select>
            </div>

            <div class="w-100"></div>

            <div class="col p-1 mx-0">
              <select id="hd" class="select form-control">
                <option value="0">HD</option>
                <option value="50">Sata</option>
                <option value="100">SSD</option>
                <option value="0">Sem HD</option>
              </select>
            </div>

            <div class="col p-1 mx-0">
              <select id="hd_gb" class="select form-control">
                <option value="0">GB HD</option>
                <option value="50">80</option>
                <option value="100">120</option>
                <option value="150">160</option>
              </select>
            </div>

            <div class="col p-1 mx-0">
              <select id="memoria" class="select form-control">
                <option value="0">Memória</option>
                <option value="50">DDR</option>
                <option value="100">DDR3/PC3L</option>
                <option value="200">DDR4</option>
              </select>
            </div>

            <div class="col p-1 mx-0">
              <select id="memoria_gb" class="select form-control">
                <option value="0">GB Memória</option>
                <option value="100">2GB</option>
                <option value="200">4GB</option>
                <option value="300">8GB</option>
              </select>
            </div>

            <div class="w-100"></div>

            <div class="col p-1 mx-0">
              <select id="placa_video" class="select form-control">
                <option value="0">Placa de vídeo</option>
                <option value="50">1GB</option>
                <option value="200">2GB</option>
                <option value="250">3GB</option>
              </select>
            </div>

            <div class="col p-1 mx-0">
              <select id="wipe_data" class="select form-control">
                <option value="0">Wipe Data</option>
                <option value="19">Sim</option>
                <option value="0">Não</option>
              </select>
            </div>

            <div class="col p-1 mx-0">
              <select id="triagem" class="select form-control">
                <option value="0">Triagem</option>
                <option value="18">Sim</option>
                <option value="0">Não</option>
              </select>
            </div>

            <div class="col p-1 mx-0">
              <select id="frete" class="select form-control">
                <option value="0">Frete</option>
                <option value="15">Sim</option>
                <option value="0">Não</option>
              </select>
            </div>

            <div class="w-100"></div>

            <div class="col p-1 mx-0 mt-2 mb-0 validacao_note">
              <p class="h6 mb-0">Check List de Validação do Notebook</p>
            </div>

            <div class="w-100"></div>

            <div class="col p-1 mx-0 validacao_note">
              <select id="note_riscos" class="select_note form-control">
                <option value="0">Riscos</option>
                <option value="0">Excelente</option>
                <option value="3">Regular</option>
              </select>
            </div>

            <div class="col p-1 mx-0 validacao_note">
              <select id="note_quebras_tampa" class="select_note form-control">
                <option value="0">Quebras na Tampa</option>
                <option value="0">Excelente</option>
                <option value="3">Regular</option>
              </select>
            </div>

            <div class="col p-1 mx-0 validacao_note">
              <select id="note_teclado" class="select_note form-control">
                <option value="0">Teclado</option>
                <option value="0">Excelente</option>
                <option value="3">Regular</option>
              </select>
            </div>

            <div class="w-100"></div>

            <div class="col p-1 mx-0 validacao_note">
              <select id="note_fonte" class="select_note form-control">
                <option value="0">Fonte</option>
                <option value="0">Excelente</option>
                <option value="3">Regular</option>
              </select>
            </div>

            <div class="col p-1 mx-0 validacao_note">
              <select id="note_bateria" class="select_note form-control">
                <option value="0">Bateria</option>
                <option value="0">Excelente</option>
                <option value="5">Ruim</option>
              </select>
            </div>

            <div class="col p-1 mx-0 validacao_note">
              <select id="note_tela" class="select_note form-control">
                <option value="0">Tela</option>
                <option value="0">Excelente</option>
                <option value="5">Regular</option>
                <option value="15">Ruim</option>
              </select>
            </div>

            <div class="w-100"></div>

            <div class="col p-1 mx-0 mt-2 mb-0 validacao_desk">
              <p class="h6 mb-0">Check List de Validação do Desktop</p>
            </div>

            <div class="w-100"></div>

            <div class="col p-1 mx-0 validacao_desk">
              <select id="desk_riscos" class="select form-control">
                <option value="0">Riscos</option>
                <option value="0">Excelente</option>
                <option value="3">Regular</option>
                <option value="5">Ruim</option>
              </select>
            </div>

            <div class="col p-1 mx-0 validacao_desk">
              <select id="desk_amassados" class="select form-control">
                <option value="0">Amassados</option>
                <option value="0">Excelente</option>
                <option value="3">Regular</option>
                <option value="5">Ruim</option>
              </select>
            </div>

            <div class="col p-1 mx-0 validacao_desk">
              <select id="desk_teclado" class="select form-control">
                <option value="0">Teclado</option>
                <option value="5">Sim</option>
                <option value="0">Não</option>
              </select>
            </div>

            <div class="col p-1 mx-0 validacao_desk">
              <select id="desk_mouse" class="select form-control">
                <option value="0">Mouse</option>
                <option value="5">Sim</option>
                <option value="0">Não</option>
              </select>
            </div>

          </div>
        </form>
      </div>
    </div>

    <!-- JavaScript (Opcional) -->
    <!-- jQuery primeiro, depois Popper.js, depois Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  </body>

  <script>
    $(function() {

      function calc() {

        var aparelho = $("#aparelho option:selected").text();
        var qtde = 0;
        if ($("#qtde").val()){
          qtde = parseInt($("#qtde").val());
        }

        var fabricante = parseInt($("#fabricante option:selected").val());
        var processador = parseInt($("#processador option:selected").val());
        var hd = parseInt($("#hd option:selected").val());
        var hd_gb = parseInt($("#hd_gb option:selected").val());
        var memoria = parseInt($("#memoria option:selected").val());
        var memoria_gb = parseInt($("#memoria_gb option:selected").val());
        var placa_video = parseInt($("#placa_video option:selected").val());

        var wipe_data = parseInt($("#wipe_data option:selected").val());
        var triagem = parseInt($("#triagem option:selected").val());
        var frete = parseInt($("#frete option:selected").val());



        var note_riscos = parseInt($("#note_riscos option:selected").val());
        var note_quebras_tampa = parseInt($("#note_quebras_tampa option:selected").val());
        var note_teclado = parseInt($("#note_teclado option:selected").val());

        var note_fonte = parseInt($("#note_fonte option:selected").val());
        var note_bateria = parseInt($("#note_bateria option:selected").val());
        var note_tela = parseInt($("#note_tela option:selected").val());


        var desk_riscos = parseInt($("#desk_riscos option:selected").val());
        var desk_amassados = parseInt($("#desk_amassados option:selected").val());
        var desk_teclado = parseInt($("#desk_teclado option:selected").val());
        var desk_mouse = parseInt($("#desk_mouse option:selected").val());

        if (aparelho == "Notebook") {
          var val_note = processador + hd_gb + memoria_gb + placa_video;
          var desconto_fonte = (val_note * note_fonte) / 100;
          var desconto_bateria = (val_note * note_bateria) / 100;
          var desconto_tela = (val_note * note_tela) / 100;
          var val_note_desc = Math.ceil(val_note - desconto_fonte - desconto_bateria - desconto_tela);
          var rec_disp = wipe_data + triagem + frete;
          var val_total_note = (val_note_desc - rec_disp) * qtde;

          $("#visor").val(val_total_note);
        }

        if (aparelho == "Desktop") {
          var val_desk = processador + hd_gb + memoria_gb + placa_video;
          var desconto_riscos = (val_desk * desk_riscos) / 100;
          var desconto_amassados = (val_desk * desk_amassados) / 100;
          var acrescimo_mouse = desk_mouse;
          var acrescimo_teclado = desk_teclado;
          var val_desk_desc = Math.ceil(val_desk - desconto_riscos - desconto_amassados + acrescimo_mouse + acrescimo_teclado);
          var rec_disp = wipe_data + triagem + frete;
          var val_total_desk = (val_desk_desc - rec_disp) * qtde;

          $("#visor").val(val_total_desk);
        }
      }

      $(".validacao_note").hide();
      $(".validacao_desk").hide();

      $("#aparelho").change(function(){
        if ($( "#aparelho option:selected" ).text() == "Notebook") {
          $(".validacao_note").show();
          $(".validacao_desk").hide();
        }
        if ($( "#aparelho option:selected" ).text() == "Desktop") {
          $(".validacao_note").hide();
          $(".validacao_desk").show();
        }
      });

      $("#aparelho").trigger( "change" );

      $("select").on("change", function () {
        calc()
      });

      $("#qtde").on("change paste keyup", function () {
        calc()
      });

      $("#qtde").trigger( "change" );

    });
  </script>
</html>